---
language: node_js
node_js:
  - 11
  - 10
  - 8
cache:
  directories:
    - ~/.npm
install:
  - npm audit
  - npm ci
script:
  - npx commitlint-travis
  - npm test -- --coverage
  - npm run build
after_success:
  - npx codecov
deploy:
  provider: script
  skip_cleanup: true
  script:
    - npx semantic-release --branch master
  on:
    branch: master
    node: 10
